@page "/calculator"
@inherits CalculationViewBase

<h1>Calculator</h1>

<EditForm Model="@CurrentCalculation">

    <div class="form-group row">
        <label for="firstnumber" class="col-sm-3">First number: </label>
        <InputNumber id="firstnumber"
                     class="form-control col-sm-8"
                     @bind-Value="@CurrentCalculation.FirstNumber">
        </InputNumber>
    </div>

    <div class="form-group row">
        <label for="operator" class="col-sm-3">Operator: </label>
        <InputSelect id="operator"
                     class="form-control col-sm-8"
                     @bind-Value="@CurrentCalculation.Operator">
            @foreach (var item in _operatorMapping.Keys)
            {
                <option value="@item">@item</option>
            }
        </InputSelect>
    </div>

    <div class="form-group row">
        <label for="secondnumber" class="col-sm-3">Second number: </label>
        <InputNumber id="secondnumber"
                     class="form-control col-sm-8"
                     @bind-Value="@CurrentCalculation.SecondNumber">
        </InputNumber>
    </div>

</EditForm>

<a class="btn btn-outline-primary" @onclick="@CalculateAndAddToHistory">Calculate</a>
<br />
<br />

<h2>History</h2>
<table class="table">
    <thead>
        <tr>
            <th>Calculation ID</th>
            <th>Process</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in CalculationItems)
        {
            <tr>
                <td>@item.CalculationID</td>
                <td>@item.CalculationProcess</td>
            </tr>
        }
    </tbody>
</table>